
# Адаптеры для чанков(умных элементов)

## App\Adapters\Chunks\BladeToChunk

Адаптеры для реформирования данных с текущей cms в данные с которыми будет работать **web-client**.

#### Adapter

В него должен быть передан id страницы, по которому получаются данные, 
со всеми параметрами о странице, если тип элемента на странице равен:
 
  + **0** - возвращается html-код c поля `body`;
  + **1** - определяется тип чанка, все настройки передаются c поля `body`, предварительно сформировав ассоциативный массив в конкретный класс каждого чанка для формирования уникальных данных: 
    + **Link** - нормальная и мажорная ссылки;
    + **PageContents** - работает с контентом страницы;
    + **ProductsCatalog** - работает с панелью заказов и катологом товаров; 
    + **Sitemap** - работает с картой сайта; 
    В Основная логика подразумевает работу по переводу с десятиричной в двоичную систему исчесления, формируя **json**, 
    возвращая его в Adapter. Основное отличие это количество, название ключей в массиве параметров каждого чанка. 
  + **2** - //TODO пока не приступали;
  + **3** - //TODO пока не приступали;
  
  #### Chunk
 
 Абстрактный класс, наследники которого должны будут реализовать такие методы:
 
 ```php 
 abstract public function toJson(array $options): void;
 ```
 Адаптер для чанка(умного элемента), который формирует json, записывая данные в БД.

 
 ```php
public function retrieveBits(string $properties): array;
 ```
 Переводит значение в двоичную строку, разбивает строку по символу, переворачивает массив.

      
```php
 abstract public function reformat(array $properties): array;
```
Формирует ассоциативный массив.

 #### Link, Sitemap, PageContent, ProductCatalog
 
 Реализуют абстрактные методы класса Chunk. В итоге 3-ий элемент массив переводят в двоичную систему,
 формируя из этого числа ассоциативный массив для дальнейшей работы в web-client.
 
 